<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">

	<title>MPSImageAllocator Protocol Reference</title>

	<link rel="stylesheet" href="../css/style.css">
	<meta name="viewport" content="initial-scale=1, maximum-scale=1.4">
	<meta name="generator" content="appledoc 2.2.1 (build 1334)">
</head>
<body class="appledoc">
	<header>
		<div class="container" class="hide-in-xcode">
			
			<h1 id="library-title">
				<a href="../index.html">MacOSX 10.13 MetalPerformanceShaders Framework </a>
			</h1>

			<p id="developer-home">
				<a href="../index.html">Apple Inc.</a>
			</p>
			
		</div>
	</header>

	<aside>
		<div class="container">
			<nav>
				<ul id="header-buttons" role="toolbar">
					<li><a href="../index.html">Index</a></li>
<li><a href="../hierarchy.html">Hierarchy</a></li>

					<li id="on-this-page" role="navigation">
						<label>
							On This Page

							<div class="chevron">
								<div class="chevy chevron-left"></div>
								<div class="chevy chevron-right"></div>
							</div>

							<select id="jump-to">
	<option value="top">Jump To&#133;</option>
	
	<option value="overview">Overview</option>
	

	
	
	<option value="tasks">Tasks</option>
	
	

	
	

	

	
	<optgroup label="Instance Methods">
		
		<option value="//api/name/imageForCommandBuffer:imageDescriptor:kernel:">- imageForCommandBuffer:imageDescriptor:kernel:</option>
		
	</optgroup>
	
	
</select>
						</label>
					</li>
				</ul>
			</nav>
		</div>
	</aside>

	<article>
		<div id="overview_contents" class="container">
			<div id="content">
				<main role="main">
					<h1 class="title">MPSImageAllocator Protocol Reference</h1>

					
					<div class="section section-specification"><table cellspacing="0"><tbody>
						<tr>
	<th>Conforms to</th>
	<td>NSObject<br />NSSecureCoding</td>
</tr><tr>
	<th>Declared in</th>
	<td>MPSImage.h</td>
</tr>
						</tbody></table></div>
					

                    
					
					<div class="section section-overview">
						<a title="Overview" name="overview"></a>
						<h2 class="subtitle subtitle-overview">Overview</h2>
						<p>Sometimes it is prohibitively costly for MPS to figure out how
big an image should be in advance. In addition, you may want to
have some say over whether the image is a temporary image or not.
In such circumstances, the MPSImageAllocator is used to
provide the developer with an opportunity for just in time feedback
about how the image should be allocated.</p>

<p>Two standard MPSImageAllocators are provided: MPSImageDefaultAllocator
and MPSTemporaryImageDefaultAllocator. You may of course provide
your own allocator instead.</p>

<p>Example:
@code
// Note: MPSImageDefaultAllocator is already provided
//       by the framework under that name.  It is provided here
//       as sample code for writing your own variant.
-(<a href="../Classes/MPSImage.html">MPSImage</a> * <strong>nonnull)  imageForCommandBuffer: (</strong>nonnull id <MTLCommandBuffer>) cmdBuf
imageDescriptor: (<a href="../Classes/MPSImageDescriptor.html">MPSImageDescriptor</a> * <strong>nonnull) descriptor
kernel: (<a href="../Classes/MPSKernel.html">MPSKernel</a> * </strong>nonnull) kernel
{
MPSImage * result = [[MPSImage alloc] initWithDevice: cmdBuf.device
imageDescriptor: descriptor ];</p>

<p>// make sure the object sticks around at least as lomg as the command buffer</p>
					</div>
					
					

					
					
					<div class="section section-tasks">
						<a title="Tasks" name="tasks"></a>
						

						
						

						<div class="task-list">
							<div class="section-method">
	<a name="//api/name/imageForCommandBuffer:imageDescriptor:kernel:" title="imageForCommandBuffer:imageDescriptor:kernel:"></a>
	<h3 class="method-title"><code><a href="#//api/name/imageForCommandBuffer:imageDescriptor:kernel:">&ndash;&nbsp;imageForCommandBuffer:imageDescriptor:kernel:</a></code>
<span class="task-item-suffix">required method</span></h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>Create a new <a href="../Classes/MPSImage.html">MPSImage</a></p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>- (MPSImage *__nonnull)imageForCommandBuffer:(__nonnull id&lt;MTLCommandBuffer&gt;)<em>cmdBuf</em> imageDescriptor:(MPSImageDescriptor *__nonnull)<em>descriptor</em> kernel:(MPSKernel *__nonnull)<em>kernel</em></code></div>

		    
			
			<div class="method-subsection arguments-section parameters">
				<h4 class="method-subtitle parameter-title">Parameters</h4>
				<table class="argument-def parameter-def">
				
					<tr>
						<th scope="row" class="argument-name"><code>cmdBuf</code></th>
						<td><p>The MTLCommandBuffer on which the image will be initialized.
cmdBuf.device encodes the MTLDevice.</p></td>
					</tr>
				
					<tr>
						<th scope="row" class="argument-name"><code>descriptor</code></th>
						<td><p>A <a href="../Classes/MPSImageDescriptor.html">MPSImageDescriptor</a> containing the image format to use.
This format is the result of your MPSPadding policy.</p></td>
					</tr>
				
					<tr>
						<th scope="row" class="argument-name"><code>kernel</code></th>
						<td><p>The kernel that will overwrite the image returned by the filter.</p></td>
					</tr>
				
				</table>
			</div>
			

			
			<div class="method-subsection return">
				<h4 class="method-subtitle parameter-title">Return Value</h4>
				<p>A valid <a href="../Classes/MPSImage.html">MPSImage</a> or <a href="../Classes/MPSTemporaryImage.html">MPSTemporaryImage</a>. It will be automatically released when the command buffer completes.</p>
			</div>
			

			

			
			<div class="method-subsection discussion-section">
				<h4 class="method-subtitle">Discussion</h4>
				<p>See class description for sample implementation</p>
			</div>
			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">MPSImage.h</code></p>
			</div>
			
			
		</div>
	</div>
</div>
						</div>
						
					</div>
					
					

                    
                    
          
				</main>

				<footer>
					<div class="footer-copyright">
						
						<p class="copyright">Copyright &copy; 2018 Apple Inc. All rights reserved. Updated: 2018-03-06</p>
						
						
						<p class="generator">Generated by <a href="http://appledoc.gentlebytes.com">appledoc 2.2.1 (build 1334)</a>.</p>
						
					</div>
				</footer>
			</div>
		</div>
	</article>

	<script src="../js/script.js"></script>
</body>
</html>