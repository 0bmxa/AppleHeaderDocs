<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">

	<title>MPSMatrixMultiplication Class Reference</title>

	<link rel="stylesheet" href="../css/style.css">
	<meta name="viewport" content="initial-scale=1, maximum-scale=1.4">
	<meta name="generator" content="appledoc 2.2.1 (build 1334)">
</head>
<body class="appledoc">
	<header>
		<div class="container" class="hide-in-xcode">
			
			<h1 id="library-title">
				<a href="../index.html">MacOSX 10.13 MetalPerformanceShaders Framework </a>
			</h1>

			<p id="developer-home">
				<a href="../index.html">Apple Inc.</a>
			</p>
			
		</div>
	</header>

	<aside>
		<div class="container">
			<nav>
				<ul id="header-buttons" role="toolbar">
					<li><a href="../index.html">Index</a></li>
<li><a href="../hierarchy.html">Hierarchy</a></li>

					<li id="on-this-page" role="navigation">
						<label>
							On This Page

							<div class="chevron">
								<div class="chevy chevron-left"></div>
								<div class="chevy chevron-right"></div>
							</div>

							<select id="jump-to">
	<option value="top">Jump To&#133;</option>
	
	<option value="overview">Overview</option>
	

	
	
	<option value="tasks">Tasks</option>
	
	

	
	
	<optgroup label="Properties">
		
		<option value="//api/name/batchSize">batchSize</option>
		
		<option value="//api/name/batchStart">batchStart</option>
		
		<option value="//api/name/leftMatrixOrigin">leftMatrixOrigin</option>
		
		<option value="//api/name/resultMatrixOrigin">resultMatrixOrigin</option>
		
		<option value="//api/name/rightMatrixOrigin">rightMatrixOrigin</option>
		
	</optgroup>
	

	

	
	<optgroup label="Instance Methods">
		
		<option value="//api/name/encodeToCommandBuffer:leftMatrix:rightMatrix:resultMatrix:MPS_SWIFT_NAME:">- encodeToCommandBuffer:leftMatrix:rightMatrix:resultMatrix:MPS_SWIFT_NAME:</option>
		
		<option value="//api/name/initWithDevice:">- initWithDevice:</option>
		
		<option value="//api/name/initWithDevice:resultRows:resultColumns:interiorColumns:">- initWithDevice:resultRows:resultColumns:interiorColumns:</option>
		
		<option value="//api/name/initWithDevice:transposeLeft:transposeRight:resultRows:resultColumns:interiorColumns:alpha:beta:">- initWithDevice:transposeLeft:transposeRight:resultRows:resultColumns:interiorColumns:alpha:beta:</option>
		
	</optgroup>
	
	
</select>
						</label>
					</li>
				</ul>
			</nav>
		</div>
	</aside>

	<article>
		<div id="overview_contents" class="container">
			<div id="content">
				<main role="main">
					<h1 class="title">MPSMatrixMultiplication Class Reference</h1>

					
					<div class="section section-specification"><table cellspacing="0"><tbody>
						<tr>
	<th>Inherits from</th>
	<td><a href="../Classes/MPSKernel.html">MPSKernel</a> : NSObject</td>
</tr><tr>
	<th>Declared in</th>
	<td>MPSMatrixMultiplication.h</td>
</tr>
						</tbody></table></div>
					

                    
					
					<div class="section section-overview">
						<a title="Overview" name="overview"></a>
						<h2 class="subtitle subtitle-overview">Overview</h2>
						<p>@class      MPSMatrixMultiplication</p>

<p>@dependency This depends on Metal.framework.</p><p>A MPSMatrixMultiplication object computes:</p>

<p>C = alpha * op(A) * op(B) + beta * C</p>

<p>A, B, and C are matrices which are represented by <a href="../Classes/MPSMatrix.html">MPSMatrix</a>
objects. alpha and beta are scalar values (of the same data type
as values of C) which are applied as shown above.  A and B may
each have an optional transposition operation applied.</p>

<p>A, B, and C (also referred to in later discussions as the left input
matrix, the right input matrix, and the result matrix respectively).</p>

<p>A MPSMatrixMultiplication object is initialized with the transpose
operators to apply to A and B, sizes for the operation to perform,
and the scalar values alpha and beta.</p>
					</div>
					
					

					
					
					<div class="section section-tasks">
						<a title="Tasks" name="tasks"></a>
						

						
						

						<div class="task-list">
							<div class="section-method">
	<a name="//api/name/resultMatrixOrigin" title="resultMatrixOrigin"></a>
	<h3 class="method-title"><code><a href="#//api/name/resultMatrixOrigin">&nbsp;&nbsp;resultMatrixOrigin</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>@property   resultMatrixOrigin</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>@property (readwrite, nonatomic) MTLOrigin resultMatrixOrigin</code></div>

		    
			

			

			

			
			<div class="method-subsection discussion-section">
				<h4 class="method-subtitle">Discussion</h4>
				<p>@property   resultMatrixOrigin</p><p>The origin, relative to [0, 0] in the result matrix, at which to
start writing (and reading if necessary) results.  This property is
modifiable and defaults to [0, 0] at initialization time.  If a
different origin is desired then this should be modified prior to
encoding the kernel.  The z value must be 0.</p>
			</div>
			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">MPSMatrixMultiplication.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/leftMatrixOrigin" title="leftMatrixOrigin"></a>
	<h3 class="method-title"><code><a href="#//api/name/leftMatrixOrigin">&nbsp;&nbsp;leftMatrixOrigin</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>@property   leftMatrixOrigin</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>@property (readwrite, nonatomic) MTLOrigin leftMatrixOrigin</code></div>

		    
			

			

			

			
			<div class="method-subsection discussion-section">
				<h4 class="method-subtitle">Discussion</h4>
				<p>@property   leftMatrixOrigin</p><p>The origin, relative to [0, 0] in the left input matrix, at which to
start reading values.  This property is modifiable and defaults to
[0, 0] at initialization time.  If a different origin is desired then
this should be modified prior to encoding the kernel.  The z value
must be 0.</p>
			</div>
			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">MPSMatrixMultiplication.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/rightMatrixOrigin" title="rightMatrixOrigin"></a>
	<h3 class="method-title"><code><a href="#//api/name/rightMatrixOrigin">&nbsp;&nbsp;rightMatrixOrigin</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>@property   rightMatrixOrigin</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>@property (readwrite, nonatomic) MTLOrigin rightMatrixOrigin</code></div>

		    
			

			

			

			
			<div class="method-subsection discussion-section">
				<h4 class="method-subtitle">Discussion</h4>
				<p>@property   rightMatrixOrigin</p><p>The origin, relative to [0, 0] in the right input matrix, at which to
start reading values.  This property is modifiable and defaults to
[0, 0] at initialization time.  If a different origin is desired then
this should be modified prior to encoding the kernel.  The z value
must be 0.</p>
			</div>
			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">MPSMatrixMultiplication.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/batchStart" title="batchStart"></a>
	<h3 class="method-title"><code><a href="#//api/name/batchStart">&nbsp;&nbsp;batchStart</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>@property   batchStart</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>@property (readwrite, nonatomic) NSUInteger batchStart</code></div>

		    
			

			

			

			
			<div class="method-subsection discussion-section">
				<h4 class="method-subtitle">Discussion</h4>
				<p>@property   batchStart</p><p>The index of the first matrix in the batch.  This property is
modifiable and defaults to 0 at initialization time.  If
batch processing should begin at a different matrix this value
should be modified prior to encoding the kernel.</p>
			</div>
			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">MPSMatrixMultiplication.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/batchSize" title="batchSize"></a>
	<h3 class="method-title"><code><a href="#//api/name/batchSize">&nbsp;&nbsp;batchSize</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>@property   batchSize</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>@property (readwrite, nonatomic) NSUInteger batchSize</code></div>

		    
			

			

			

			
			<div class="method-subsection discussion-section">
				<h4 class="method-subtitle">Discussion</h4>
				<p>@property   batchSize</p><p>The number of matrices in the batch to process.  This property
is modifiable and by default allows all matrices available at
encoding time to be processed.</p>
			</div>
			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">MPSMatrixMultiplication.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/initWithDevice:transposeLeft:transposeRight:resultRows:resultColumns:interiorColumns:alpha:beta:" title="initWithDevice:transposeLeft:transposeRight:resultRows:resultColumns:interiorColumns:alpha:beta:"></a>
	<h3 class="method-title"><code><a href="#//api/name/initWithDevice:transposeLeft:transposeRight:resultRows:resultColumns:interiorColumns:alpha:beta:">&ndash;&nbsp;initWithDevice:transposeLeft:transposeRight:resultRows:resultColumns:interiorColumns:alpha:beta:</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>Initialize an MPSMatrixMultiplication object on a device for a given size
and desired transpose and scale values.</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>- (nonnull instancetype)initWithDevice:(nonnull id&lt;MTLDevice&gt;)<em>device</em> transposeLeft:(BOOL)<em>transposeLeft</em> transposeRight:(BOOL)<em>transposeRight</em> resultRows:(NSUInteger)<em>resultRows</em> resultColumns:(NSUInteger)<em>resultColumns</em> interiorColumns:(NSUInteger)<em>interiorColumns</em> alpha:(double)<em>alpha</em> beta:(double)<em>beta</em></code></div>

		    
			
			<div class="method-subsection arguments-section parameters">
				<h4 class="method-subtitle parameter-title">Parameters</h4>
				<table class="argument-def parameter-def">
				
					<tr>
						<th scope="row" class="argument-name"><code>device</code></th>
						<td><p>The device on which the kernel will execute.</p></td>
					</tr>
				
					<tr>
						<th scope="row" class="argument-name"><code>transposeLeft</code></th>
						<td><p>A boolean value which indicates if the left input matrix should be
used in transposed form.  If &lsquo;YES&rsquo; then op(A) = A**T, otherwise
op(A) = A.</p></td>
					</tr>
				
					<tr>
						<th scope="row" class="argument-name"><code>transposeRight</code></th>
						<td><p>A boolean value which indicates if the right input matrix should be
used in transposed form.  If &lsquo;YES&rsquo; then op(B) = B**T, otherwise
op(B) = B.</p></td>
					</tr>
				
					<tr>
						<th scope="row" class="argument-name"><code>resultRows</code></th>
						<td><p>The number of rows in the result matrix, M in BLAS GEMM description.</p></td>
					</tr>
				
					<tr>
						<th scope="row" class="argument-name"><code>resultColumns</code></th>
						<td><p>The number of columns in the result matrix, N in BLAS GEMM description.</p></td>
					</tr>
				
					<tr>
						<th scope="row" class="argument-name"><code>interiorColumns</code></th>
						<td><p>The number of columns of the left input matrix after the
appropriate transpose operation has been applied. K in BLAS
GEMM description.</p></td>
					</tr>
				
					<tr>
						<th scope="row" class="argument-name"><code>alpha</code></th>
						<td><p>The scale factor to apply to the product.  Specified in double
precision.  Will be converted to the appropriate precision in the
implementation subject to rounding and/or clamping as necessary.</p></td>
					</tr>
				
					<tr>
						<th scope="row" class="argument-name"><code>beta</code></th>
						<td><p>The scale factor to apply to the initial values of C.  Specified
in double precision.  Will be converted to the appropriate precision in the
implementation subject to rounding and/or clamping as necessary.</p></td>
					</tr>
				
				</table>
			</div>
			

			
			<div class="method-subsection return">
				<h4 class="method-subtitle parameter-title">Return Value</h4>
				<p>A valid MPSMatrixMultiplication object or nil, if failure.</p>
			</div>
			

			

			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">MPSMatrixMultiplication.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/initWithDevice:resultRows:resultColumns:interiorColumns:" title="initWithDevice:resultRows:resultColumns:interiorColumns:"></a>
	<h3 class="method-title"><code><a href="#//api/name/initWithDevice:resultRows:resultColumns:interiorColumns:">&ndash;&nbsp;initWithDevice:resultRows:resultColumns:interiorColumns:</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>Convenience initialization for a matrix-matrix multiplication
with no transpositions, unit scaling of the product, and no
accumulation of the result.  The scaling factors alpha and beta
are taken to be 1.0 and 0.0 respectively.</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>- (nonnull instancetype)initWithDevice:(nonnull id&lt;MTLDevice&gt;)<em>device</em> resultRows:(NSUInteger)<em>resultRows</em> resultColumns:(NSUInteger)<em>resultColumns</em> interiorColumns:(NSUInteger)<em>interiorColumns</em></code></div>

		    
			
			<div class="method-subsection arguments-section parameters">
				<h4 class="method-subtitle parameter-title">Parameters</h4>
				<table class="argument-def parameter-def">
				
					<tr>
						<th scope="row" class="argument-name"><code>device</code></th>
						<td><p>The device on which the kernel will execute.</p></td>
					</tr>
				
					<tr>
						<th scope="row" class="argument-name"><code>resultRows</code></th>
						<td><p>The number of rows in the result matrix, M in BLAS GEMM description.</p></td>
					</tr>
				
					<tr>
						<th scope="row" class="argument-name"><code>resultColumns</code></th>
						<td><p>The number of columns in the result matrix, N in BLAS GEMM description.</p></td>
					</tr>
				
					<tr>
						<th scope="row" class="argument-name"><code>interiorColumns</code></th>
						<td><p>The number of columns of the left input matrix. K in BLAS
GEMM description.</p></td>
					</tr>
				
				</table>
			</div>
			

			
			<div class="method-subsection return">
				<h4 class="method-subtitle parameter-title">Return Value</h4>
				<p>A valid MPSMatrixMultiplication object or nil, if failure.</p>
			</div>
			

			

			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">MPSMatrixMultiplication.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/initWithDevice:" title="initWithDevice:"></a>
	<h3 class="method-title"><code><a href="#//api/name/initWithDevice:">&ndash;&nbsp;initWithDevice:</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>Use the above initialization method instead.</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>- (nonnull instancetype)initWithDevice:(nonnull id&lt;MTLDevice&gt;)<em>device</em></code></div>

		    
			

			

			

			
			<div class="method-subsection discussion-section">
				<h4 class="method-subtitle">Discussion</h4>
				<p>Use the above initialization method instead.</p>
			</div>
			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">MPSMatrixMultiplication.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/encodeToCommandBuffer:leftMatrix:rightMatrix:resultMatrix:MPS_SWIFT_NAME:" title="encodeToCommandBuffer:leftMatrix:rightMatrix:resultMatrix:MPS_SWIFT_NAME:"></a>
	<h3 class="method-title"><code><a href="#//api/name/encodeToCommandBuffer:leftMatrix:rightMatrix:resultMatrix:MPS_SWIFT_NAME:">&ndash;&nbsp;encodeToCommandBuffer:leftMatrix:rightMatrix:resultMatrix:MPS_SWIFT_NAME:</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>Encode a MPSMatrixMultiplication object to a command buffer.</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>- (void)encodeToCommandBuffer:(nonnull id&lt;MTLCommandBuffer&gt;)<em>commandBuffer</em> leftMatrix:(MPSMatrix const *__nonnull)<em>leftMatrix</em> rightMatrix:(MPSMatrix const *__nonnull)<em>rightMatrix</em> resultMatrix:(MPSMatrix *__nonnull)<em>resultMatrix</em> MPS_SWIFT_NAME</code></div>

		    
			
			<div class="method-subsection arguments-section parameters">
				<h4 class="method-subtitle parameter-title">Parameters</h4>
				<table class="argument-def parameter-def">
				
					<tr>
						<th scope="row" class="argument-name"><code>commandBuffer</code></th>
						<td><p>A valid MTLCommandBuffer to receive the encoded kernel.</p></td>
					</tr>
				
					<tr>
						<th scope="row" class="argument-name"><code>leftMatrix</code></th>
						<td><p>A valid <a href="../Classes/MPSMatrix.html">MPSMatrix</a> object which specifies the left input matrix.</p></td>
					</tr>
				
					<tr>
						<th scope="row" class="argument-name"><code>rightMatrix</code></th>
						<td><p>A valid <a href="../Classes/MPSMatrix.html">MPSMatrix</a> object which specifies the right input matrix.</p></td>
					</tr>
				
					<tr>
						<th scope="row" class="argument-name"><code>resultMatrix</code></th>
						<td><p>A valid <a href="../Classes/MPSMatrix.html">MPSMatrix</a> object which specifies the addend matrix which will
also be overwritten by the result.</p></td>
					</tr>
				
				</table>
			</div>
			

			

			

			
			<div class="method-subsection discussion-section">
				<h4 class="method-subtitle">Discussion</h4>
				<p>Certain constraints apply to the sizes of the matrices depending on the transposition
operations and sizes requested at initialization time as well as the origins at the time
this routine is called:</p>

<p>The left input matrix must be large enough to hold an array of size resultRows x interiorColumns
elements beginning at <a href="#//api/name/leftMatrixOrigin">leftMatrixOrigin</a>.</p>

<p>The right input matrix must be large enough to hold an array of size interiorColumns x resultColumns
elements beginning at <a href="#//api/name/rightMatrixOrigin">rightMatrixOrigin</a>.</p>

<p>The result matrix must be large enough to hold an array of size resultRows x resultColumns
elements beginning at <a href="#//api/name/resultMatrixOrigin">resultMatrixOrigin</a>.</p>

<p>Each matrix within the range specified by <a href="#//api/name/batchStart">batchStart</a> and <a href="#//api/name/batchSize">batchSize</a>, which also specifies
a valid set of matrices within leftMatrix, rightMatrix, and resultMatrix, will
be processed.</p>
			</div>
			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">MPSMatrixMultiplication.h</code></p>
			</div>
			
			
		</div>
	</div>
</div>
						</div>
						
					</div>
					
					

                    
                    
          
				</main>

				<footer>
					<div class="footer-copyright">
						
						<p class="copyright">Copyright &copy; 2018 Apple Inc. All rights reserved. Updated: 2018-03-06</p>
						
						
						<p class="generator">Generated by <a href="http://appledoc.gentlebytes.com">appledoc 2.2.1 (build 1334)</a>.</p>
						
					</div>
				</footer>
			</div>
		</div>
	</article>

	<script src="../js/script.js"></script>
</body>
</html>