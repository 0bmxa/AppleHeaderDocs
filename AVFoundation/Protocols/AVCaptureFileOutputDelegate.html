<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">

	<title>AVCaptureFileOutputDelegate Protocol Reference</title>

	<link rel="stylesheet" href="../css/style.css">
	<meta name="viewport" content="initial-scale=1, maximum-scale=1.4">
	<meta name="generator" content="appledoc 2.2.1 (build 1334)">
</head>
<body class="appledoc">
	<header>
		<div class="container" class="hide-in-xcode">
			
			<h1 id="library-title">
				<a href="../index.html">MacOSX 10.13 AVFoundation Framework </a>
			</h1>

			<p id="developer-home">
				<a href="../index.html">Apple Inc.</a>
			</p>
			
		</div>
	</header>

	<aside>
		<div class="container">
			<nav>
				<ul id="header-buttons" role="toolbar">
					<li><a href="../index.html">Index</a></li>
<li><a href="../hierarchy.html">Hierarchy</a></li>

					<li id="on-this-page" role="navigation">
						<label>
							On This Page

							<div class="chevron">
								<div class="chevy chevron-left"></div>
								<div class="chevy chevron-right"></div>
							</div>

							<select id="jump-to">
	<option value="top">Jump To&#133;</option>
	
	<option value="overview">Overview</option>
	

	
	
	<option value="tasks">Tasks</option>
	
	

	
	

	

	
	<optgroup label="Instance Methods">
		
		<option value="//api/name/captureOutput:didOutputSampleBuffer:fromConnection:">- captureOutput:didOutputSampleBuffer:fromConnection:</option>
		
		<option value="//api/name/captureOutputShouldProvideSampleAccurateRecordingStart:">- captureOutputShouldProvideSampleAccurateRecordingStart:</option>
		
	</optgroup>
	
	
</select>
						</label>
					</li>
				</ul>
			</nav>
		</div>
	</aside>

	<article>
		<div id="overview_contents" class="container">
			<div id="content">
				<main role="main">
					<h1 class="title">AVCaptureFileOutputDelegate Protocol Reference</h1>

					
					<div class="section section-specification"><table cellspacing="0"><tbody>
						<tr>
	<th>Conforms to</th>
	<td>NSObject</td>
</tr><tr>
	<th>Declared in</th>
	<td>AVCaptureFileOutput.h</td>
</tr>
						</tbody></table></div>
					

                    
					
					<div class="section section-overview">
						<a title="Overview" name="overview"></a>
						<h2 class="subtitle subtitle-overview">Overview</h2>
						<p>@protocol AVCaptureFileOutputDelegate
@abstract
    Defines an interface for delegates of <a href="../Classes/AVCaptureFileOutput.html">AVCaptureFileOutput</a> to monitor and control recordings along exact sample boundaries.</p>
					</div>
					
					

					
					
					<div class="section section-tasks">
						<a title="Tasks" name="tasks"></a>
						

						
						

						<div class="task-list">
							<div class="section-method">
	<a name="//api/name/captureOutputShouldProvideSampleAccurateRecordingStart:" title="captureOutputShouldProvideSampleAccurateRecordingStart:"></a>
	<h3 class="method-title"><code><a href="#//api/name/captureOutputShouldProvideSampleAccurateRecordingStart:">&ndash;&nbsp;captureOutputShouldProvideSampleAccurateRecordingStart:</a></code>
<span class="task-item-suffix">required method</span></h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>@method captureOutputShouldProvideSampleAccurateRecordingStart:
@abstract
    Allows a client to opt in to frame accurate record-start in <a href="#//api/name/captureOutput:didOutputSampleBuffer:fromConnection:">captureOutput:didOutputSampleBuffer:fromConnection:</a></p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>- (BOOL)captureOutputShouldProvideSampleAccurateRecordingStart:(AVCaptureOutput *)<em>output</em></code></div>

		    
			

			

			

			
			<div class="method-subsection discussion-section">
				<h4 class="method-subtitle">Discussion</h4>
				<p>@method captureOutputShouldProvideSampleAccurateRecordingStart:
@abstract
    Allows a client to opt in to frame accurate record-start in <a href="#//api/name/captureOutput:didOutputSampleBuffer:fromConnection:">captureOutput:didOutputSampleBuffer:fromConnection:</a></p>

<p>@param output
    The <a href="../Classes/AVCaptureFileOutput.html">AVCaptureFileOutput</a> instance with which the delegate is associated.</p>

<p>@discussion
    In apps linked before Mac OS X 10.8, delegates that implement the <a href="#//api/name/captureOutput:didOutputSampleBuffer:fromConnection:">captureOutput:didOutputSampleBuffer:fromConnection:</a> method can ensure frame accurate start / stop of a recording by calling startRecordingToOutputFileURL:recordingDelegate: from within the callback. Frame accurate start requires the capture output to apply outputSettings when the session starts running, so it is ready to record on any given frame boundary. Compressing all the time while the session is running has power, thermal, and CPU implications. In apps linked on or after Mac OS X 10.8, delegates must implement captureOutputShouldProvideSampleAccurateRecordingStart: to indicate whether frame accurate start/stop recording is required (returning YES) or not (returning NO). The output calls this method as soon as the delegate is added, and never again. If your delegate returns NO, the capture output applies compression settings when startRecordingToOutputFileURL:recordingDelegate: is called, and disables compression settings after the recording is stopped.</p>
			</div>
			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">AVCaptureFileOutput.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/captureOutput:didOutputSampleBuffer:fromConnection:" title="captureOutput:didOutputSampleBuffer:fromConnection:"></a>
	<h3 class="method-title"><code><a href="#//api/name/captureOutput:didOutputSampleBuffer:fromConnection:">&ndash;&nbsp;captureOutput:didOutputSampleBuffer:fromConnection:</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>@method captureOutput:didOutputSampleBuffer:fromConnection:
@abstract
    Gives the delegate the opportunity to inspect samples as they are received by the output and optionally start and stop recording at exact times.</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>- (void)captureOutput:(AVCaptureFileOutput *)<em>output</em> didOutputSampleBuffer:(CMSampleBufferRef)<em>sampleBuffer</em> fromConnection:(AVCaptureConnection *)<em>connection</em></code></div>

		    
			

			

			

			
			<div class="method-subsection discussion-section">
				<h4 class="method-subtitle">Discussion</h4>
				<p>@method captureOutput:didOutputSampleBuffer:fromConnection:
@abstract
    Gives the delegate the opportunity to inspect samples as they are received by the output and optionally start and stop recording at exact times.</p>

<p>@param output
    The capture file output that is receiving the media data.
@param sampleBuffer
    A CMSampleBuffer object containing the sample data and additional information about the sample, such as its format and presentation time.
@param connection
    The <a href="../Classes/AVCaptureConnection.html">AVCaptureConnection</a> object attached to the file output from which the sample data was received.</p>

<p>@discussion
    This method is called whenever the file output receives a single sample buffer (a single video frame or audio buffer, for example) from the given connection. This gives delegates an opportunity to start and stop recording or change output files at an exact sample boundary if <a href="#//api/name/captureOutputShouldProvideSampleAccurateRecordingStart:">captureOutputShouldProvideSampleAccurateRecordingStart:</a> returns YES. If called from within this method, the file output&rsquo;s startRecordingToOutputFileURL:recordingDelegate: and resumeRecording methods are guaranteed to include the received sample buffer in the new file, whereas calls to stopRecording and pauseRecording are guaranteed to include all samples leading up to those in the current sample buffer in the existing file.</p>

<pre><code>Delegates can gather information particular to the samples by inspecting the CMSampleBuffer object. Sample buffers always contain a single frame of video if called from this method but may also contain multiple samples of audio. For B-frame video formats, samples are always delivered in presentation order.

Clients that need to reference the CMSampleBuffer object outside of the scope of this method must CFRetain it and then CFRelease it when they are finished with it.

Note that to maintain optimal performance, some sample buffers directly reference pools of memory that may need to be reused by the device system and other capture inputs. This is frequently the case for uncompressed device native capture where memory blocks are copied as little as possible. If multiple sample buffers reference such pools of memory for too long, inputs will no longer be able to copy new samples into memory and those samples will be dropped. If your application is causing samples to be dropped by retaining the provided CMSampleBuffer objects for too long, but it needs access to the sample data for a long period of time, consider copying the data into a new buffer and then calling CFRelease on the sample buffer if it was previously retained so that the memory it references can be reused.

Clients should not assume that this method will be called on a specific thread. In addition, this method is called periodically, so it must be efficient to prevent capture performance problems.
</code></pre>
			</div>
			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">AVCaptureFileOutput.h</code></p>
			</div>
			
			
		</div>
	</div>
</div>
						</div>
						
					</div>
					
					

                    
                    
          
				</main>

				<footer>
					<div class="footer-copyright">
						
						<p class="copyright">Copyright &copy; 2018 Apple Inc. All rights reserved. Updated: 2018-03-06</p>
						
						
						<p class="generator">Generated by <a href="http://appledoc.gentlebytes.com">appledoc 2.2.1 (build 1334)</a>.</p>
						
					</div>
				</footer>
			</div>
		</div>
	</article>

	<script src="../js/script.js"></script>
</body>
</html>